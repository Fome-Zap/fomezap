<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box { fill:#fff; stroke:#2b6cb0; stroke-width:2; rx:8; }
    .title { font: bold 16px sans-serif; fill:#2b6cb0; }
    .attr { font: 13px monospace; fill:#111827; }
    .fk { font-style: italic; fill:#475569; }
    .link { stroke:#94a3b8; stroke-width:2; marker-end:url(#arrow); }
    .note { font:12px sans-serif; fill:#334155; }
  </style>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#94a3b8" />
    </marker>
  </defs>

  <!-- Tenant -->
  <g transform="translate(50,40)">
    <rect class="box" width="300" height="120"/>
    <text class="title" x="16" y="28">Tenant</text>
    <text class="attr" x="16" y="54">tenantId : String (PK, unique)</text>
    <text class="attr" x="16" y="74">nome : String</text>
    <text class="attr" x="16" y="94">slug : String (unique)</text>
    <text class="attr" x="16" y="114">telefone, endereco, tema, configuracoes...</text>
  </g>

  <!-- Categoria -->
  <g transform="translate(420,40)">
    <rect class="box" width="300" height="100"/>
    <text class="title" x="16" y="28">Categoria</text>
    <text class="attr" x="16" y="54">_id : ObjectId (PK)</text>
    <text class="attr" x="16" y="74">tenantId : String (FK)</text>
    <text class="attr" x="16" y="94">nome, icone, ordem, ativa</text>
  </g>

  <!-- Produto -->
  <g transform="translate(50,200)">
    <rect class="box" width="350" height="160"/>
    <text class="title" x="16" y="28">Produto</text>
    <text class="attr" x="16" y="54">_id : ObjectId (PK)</text>
    <text class="attr" x="16" y="74">tenantId : String (FK)</text>
    <text class="attr" x="16" y="94">categoria : ObjectId → Categoria._id (FK)</text>
    <text class="attr" x="16" y="114">nome, preco, descricao, disponivel, imagem</text>
    <text class="attr" x="16" y="134">extras : [Extra._id] (N..N)</text>
    <text class="attr" x="16" y="154">tags, destaque</text>
  </g>

  <!-- Extra -->
  <g transform="translate(440,220)">
    <rect class="box" width="300" height="100"/>
    <text class="title" x="16" y="28">Extra</text>
    <text class="attr" x="16" y="54">_id : ObjectId (PK)</text>
    <text class="attr" x="16" y="74">tenantId : String (FK)</text>
    <text class="attr" x="16" y="94">nome, preco, disponivel</text>
  </g>

  <!-- Pedido -->
  <g transform="translate(50,420)">
    <rect class="box" width="700" height="200"/>
    <text class="title" x="16" y="28">Pedido</text>
    <text class="attr" x="16" y="54">_id : ObjectId (PK)</text>
    <text class="attr" x="16" y="74">tenantId : String (FK)</text>
    <text class="attr" x="16" y="94">numeroPedido : String</text>
    <text class="attr" x="16" y="114">cliente : { nome, telefone, email }</text>
    <text class="attr" x="16" y="134">itens : [ { produtoId → Produto._id, nome, preco, quantidade, extras:[{nome,preco}] } ]</text>
    <text class="attr" x="16" y="154">entrega, subtotal, taxaEntrega, valorTotal, pagamento, status</text>
  </g>

  <!-- Links -->
  <line class="link" x1="350" y1="100" x2="420" y2="80" /> <!-- Tenant -> Categoria -->
  <text class="note" x="360" y="92">1..N</text>

  <line class="link" x1="230" y1="200" x2="230" y2="200" />
  <!-- Categoria -> Produto (arrow) -->
  <path class="link" d="M550 140 L420 200" />
  <text class="note" x="480" y="160">1..N</text>

  <line class="link" x1="250" y1="260" x2="440" y2="260" /> <!-- Produto -> Extra (association via array of IDs) -->
  <text class="note" x="330" y="248">N..N (via Produto.extras)</text>

  <line class="link" x1="240" y1="360" x2="240" y2="420" /> <!-- Produto -> Pedido items -->
  <text class="note" x="250" y="390">Pedido.itens → produtoId</text>

  <line class="link" x1="170" y1="110" x2="170" y2="420" /> <!-- Tenant -> Pedido -->
  <text class="note" x="140" y="270">1..N</text>

  <!-- Footer note -->
  <text class="note" x="780" y="760">Modelo ER simplificado — todos os registros incluem campo `tenantId` para isolamento multi-tenant.</text>
</svg>